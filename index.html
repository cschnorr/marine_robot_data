<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Microscope Grid Viewer</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }

    .layout {
      display: flex;
      align-items: flex-start;
      gap: 40px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(7, 60px);
      gap: 4px;
      /* Removed margin-bottom to allow side-by-side layout */
      margin-bottom: 0;
    }

    .cell {
      width: 60px;
      height: 60px;
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      text-align: center;
      line-height: 60px;
      cursor: pointer;
      font-weight: bold;
    }
    .cell:hover {
      background-color: #d0ebff;
    }

    #viewer img {
      max-width: 600px;
      display: block;
      margin-bottom: 10px;
    }

    @media (max-width: 900px) {
      .layout {
        flex-direction: column;
        gap: 20px;
      }
    }
  </style>
</head>
<body>

<h1>Microscope Grid Viewer</h1>
<p>Click any tile to view the associated microscope image.</p>

<h2>Location 1 Data: Porta da Horta Harbor</h2>

<div class="layout">
  <div class="grid" id="grid"></div>
  <div id="viewer"></div>
</div>

<script>
  const tileIDs = [];
  for (let r = 0; r < 7; r++) {
    for (let c = 0; c < 7; c++) {
      tileIDs.push(`${r}${c}`);
    }
  }

  const imageFilenames = [
    // List your actual filenames here:
    "Snap_013_0001.jpg", "Snap_013_0203.jpg", "Snap_013_0405.jpg","Snap_013_0506.jpg",
    "Snap_013_1011.jpg", "Snap_013_1112.jpg", "Snap_013_1314.jpg", "Snap_013_1516.jpg",
    "Snap_013_2021.jpg", "Snap_013_2223.jpg", "Snap_013_2425.jpg", "Snap_013_2526.jpg",
    "Snap_013_3031.jpg", "Snap_013_3132.jpg", "Snap_013_3334.jpg", "Snap_013_3536.jpg",
    "Snap_013_4041.jpg", "Snap_013_4243.jpg", "Snap_013_4445.jpg", "Snap_013_4546.jpg",
    "Snap_013_5051.jpg", "Snap_013_5152.jpg", "Snap_013_5354.jpg", "Snap_013_5556.jpg",
    "Snap_013_6061.jpg", "Snap_013_6263.jpg", "Snap_013_6465.jpg", "Snap_013_6566.jpg"

    // ...
  ];

  // Build lookup: tileID -> list of images
  const tileMap = {};
  tileIDs.forEach(id => tileMap[id] = []);
  imageFilenames.forEach(name => {
    const match = name.match(/(\d{2})(\d{2})\.jpg/);
    if (match) {
      const [_, t1, t2] = match;
      tileMap[t1]?.push(name);
      tileMap[t2]?.push(name);
    }
  });

  const grid = document.getElementById("grid");
  const viewer = document.getElementById("viewer");

  tileIDs.forEach(id => {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.textContent = id;
    cell.onclick = () => {
      viewer.innerHTML = "";
      const imgs = tileMap[id];
      if (!imgs.length) {
        viewer.innerHTML = `<p>No image found for tile ${id}</p>`;
      } else {
        imgs.forEach(img => {
          const el = document.createElement("img");
          el.src = `img/${img}`;
          el.alt = img;
          viewer.appendChild(el);
        });
      }
    };
    grid.appendChild(cell);
  });
</script>

</body>
</html>
